#include <iostream>
#include <stdint.h>
#include <stdlib.h>
#include <stdio.h>
#include <bit>
#include <format>
#include <tuple>
#include <vector>

/* 
    a     a                a : single             ceil            floor  width l_zero  l_one r_zero  r_one popcnt
    0     0                0 :  false                1                0      0     16      0     16      0      0
    1     1                1 :   true                1                1      1     15      0      0      1      1
    2     2               10 :   true               10               10      2     14      0      1      0      1
    3     3               11 :  false              100               10      2     14      0      0      2      2
    4     4              100 :   true              100              100      3     13      0      2      0      1
    5     5              101 :  false             1000              100      3     13      0      0      1      2
    6     6              110 :  false             1000              100      3     13      0      1      0      2
    7     7              111 :  false             1000              100      3     13      0      0      3      3
    8     8             1000 :   true             1000             1000      4     12      0      3      0      1
    9     9             1001 :  false            10000             1000      4     12      0      0      1      2
   10     A             1010 :  false            10000             1000      4     12      0      1      0      2
   11     B             1011 :  false            10000             1000      4     12      0      0      2      3
   12     C             1100 :  false            10000             1000      4     12      0      2      0      2
   13     D             1101 :  false            10000             1000      4     12      0      0      1      3
   14     E             1110 :  false            10000             1000      4     12      0      1      0      3
   15     F             1111 :  false            10000             1000      4     12      0      0      4      4
   16    10            10000 :   true            10000            10000      5     11      0      4      0      1
   17    11            10001 :  false           100000            10000      5     11      0      0      1      2
   18    12            10010 :  false           100000            10000      5     11      0      1      0      2
   19    13            10011 :  false           100000            10000      5     11      0      0      2      3
   20    14            10100 :  false           100000            10000      5     11      0      2      0      2
   21    15            10101 :  false           100000            10000      5     11      0      0      1      3
   22    16            10110 :  false           100000            10000      5     11      0      1      0      3
   23    17            10111 :  false           100000            10000      5     11      0      0      3      4
   24    18            11000 :  false           100000            10000      5     11      0      3      0      2
   25    19            11001 :  false           100000            10000      5     11      0      0      1      3
   26    1A            11010 :  false           100000            10000      5     11      0      1      0      3
   27    1B            11011 :  false           100000            10000      5     11      0      0      2      4
   28    1C            11100 :  false           100000            10000      5     11      0      2      0      3
   29    1D            11101 :  false           100000            10000      5     11      0      0      1      4
   30    1E            11110 :  false           100000            10000      5     11      0      1      0      4
   31    1F            11111 :  false           100000            10000      5     11      0      0      5      5
   32    20           100000 :   true           100000           100000      6     10      0      5      0      1
  240    F0         11110000 :  false        100000000         10000000      8      8      0      4      0      4
  241    F1         11110001 :  false        100000000         10000000      8      8      0      0      1      5
  242    F2         11110010 :  false        100000000         10000000      8      8      0      1      0      5
  243    F3         11110011 :  false        100000000         10000000      8      8      0      0      2      6
  244    F4         11110100 :  false        100000000         10000000      8      8      0      2      0      5
  245    F5         11110101 :  false        100000000         10000000      8      8      0      0      1      6
  246    F6         11110110 :  false        100000000         10000000      8      8      0      1      0      6
  247    F7         11110111 :  false        100000000         10000000      8      8      0      0      3      7
  248    F8         11111000 :  false        100000000         10000000      8      8      0      3      0      5
  249    F9         11111001 :  false        100000000         10000000      8      8      0      0      1      6
  250    FA         11111010 :  false        100000000         10000000      8      8      0      1      0      6
  251    FB         11111011 :  false        100000000         10000000      8      8      0      0      2      7
  252    FC         11111100 :  false        100000000         10000000      8      8      0      2      0      6
  253    FD         11111101 :  false        100000000         10000000      8      8      0      0      1      7
  254    FE         11111110 :  false        100000000         10000000      8      8      0      1      0      7
  255    FF         11111111 :  false        100000000         10000000      8      8      0      0      8      8
  256   100        100000000 :   true        100000000        100000000      9      7      0      8      0      1
  257   101        100000001 :  false       1000000000        100000000      9      7      0      0      1      2
  258   102        100000010 :  false       1000000000        100000000      9      7      0      1      0      2
  259   103        100000011 :  false       1000000000        100000000      9      7      0      0      2      3
  260   104        100000100 :  false       1000000000        100000000      9      7      0      2      0      2
  261   105        100000101 :  false       1000000000        100000000      9      7      0      0      1      3
  262   106        100000110 :  false       1000000000        100000000      9      7      0      1      0      3
  263   107        100000111 :  false       1000000000        100000000      9      7      0      0      3      4
  264   108        100001000 :  false       1000000000        100000000      9      7      0      3      0      2
  265   109        100001001 :  false       1000000000        100000000      9      7      0      0      1      3
  266   10A        100001010 :  false       1000000000        100000000      9      7      0      1      0      3
  267   10B        100001011 :  false       1000000000        100000000      9      7      0      0      2      4
  268   10C        100001100 :  false       1000000000        100000000      9      7      0      2      0      3
  269   10D        100001101 :  false       1000000000        100000000      9      7      0      0      1      4
  270   10E        100001110 :  false       1000000000        100000000      9      7      0      1      0      4
  271   10F        100001111 :  false       1000000000        100000000      9      7      0      0      4      5
  272   110        100010000 :  false       1000000000        100000000      9      7      0      4      0      2
32735  7FDF  111111111011111 :  false 1000000000000000  100000000000000     15      1      0      0      5     14
32736  7FE0  111111111100000 :  false 1000000000000000  100000000000000     15      1      0      5      0     10
32737  7FE1  111111111100001 :  false 1000000000000000  100000000000000     15      1      0      0      1     11
32738  7FE2  111111111100010 :  false 1000000000000000  100000000000000     15      1      0      1      0     11
32739  7FE3  111111111100011 :  false 1000000000000000  100000000000000     15      1      0      0      2     12
32740  7FE4  111111111100100 :  false 1000000000000000  100000000000000     15      1      0      2      0     11
32741  7FE5  111111111100101 :  false 1000000000000000  100000000000000     15      1      0      0      1     12
32742  7FE6  111111111100110 :  false 1000000000000000  100000000000000     15      1      0      1      0     12
32743  7FE7  111111111100111 :  false 1000000000000000  100000000000000     15      1      0      0      3     13
32744  7FE8  111111111101000 :  false 1000000000000000  100000000000000     15      1      0      3      0     11
32745  7FE9  111111111101001 :  false 1000000000000000  100000000000000     15      1      0      0      1     12
32746  7FEA  111111111101010 :  false 1000000000000000  100000000000000     15      1      0      1      0     12
32747  7FEB  111111111101011 :  false 1000000000000000  100000000000000     15      1      0      0      2     13
32748  7FEC  111111111101100 :  false 1000000000000000  100000000000000     15      1      0      2      0     12
32749  7FED  111111111101101 :  false 1000000000000000  100000000000000     15      1      0      0      1     13
32750  7FEE  111111111101110 :  false 1000000000000000  100000000000000     15      1      0      1      0     13
32751  7FEF  111111111101111 :  false 1000000000000000  100000000000000     15      1      0      0      4     14
32752  7FF0  111111111110000 :  false 1000000000000000  100000000000000     15      1      0      4      0     11
32753  7FF1  111111111110001 :  false 1000000000000000  100000000000000     15      1      0      0      1     12
32754  7FF2  111111111110010 :  false 1000000000000000  100000000000000     15      1      0      1      0     12
32755  7FF3  111111111110011 :  false 1000000000000000  100000000000000     15      1      0      0      2     13
32756  7FF4  111111111110100 :  false 1000000000000000  100000000000000     15      1      0      2      0     12
32757  7FF5  111111111110101 :  false 1000000000000000  100000000000000     15      1      0      0      1     13
32758  7FF6  111111111110110 :  false 1000000000000000  100000000000000     15      1      0      1      0     13
32759  7FF7  111111111110111 :  false 1000000000000000  100000000000000     15      1      0      0      3     14
32760  7FF8  111111111111000 :  false 1000000000000000  100000000000000     15      1      0      3      0     12
32761  7FF9  111111111111001 :  false 1000000000000000  100000000000000     15      1      0      0      1     13
32762  7FFA  111111111111010 :  false 1000000000000000  100000000000000     15      1      0      1      0     13
32763  7FFB  111111111111011 :  false 1000000000000000  100000000000000     15      1      0      0      2     14
32764  7FFC  111111111111100 :  false 1000000000000000  100000000000000     15      1      0      2      0     13
32765  7FFD  111111111111101 :  false 1000000000000000  100000000000000     15      1      0      0      1     14
32766  7FFE  111111111111110 :  false 1000000000000000  100000000000000     15      1      0      1      0     14
32767  7FFF  111111111111111 :  false 1000000000000000  100000000000000     15      1      0      0     15     15
32768  8000 1000000000000000 :   true 1000000000000000 1000000000000000     16      0      1     15      0      1
32769  8001 1000000000000001 :  false                0 1000000000000000     16      0      1      0      1      2
32770  8002 1000000000000010 :  false                0 1000000000000000     16      0      1      1      0      2
32771  8003 1000000000000011 :  false                0 1000000000000000     16      0      1      0      2      3
32772  8004 1000000000000100 :  false                0 1000000000000000     16      0      1      2      0      2
32773  8005 1000000000000101 :  false                0 1000000000000000     16      0      1      0      1      3
32774  8006 1000000000000110 :  false                0 1000000000000000     16      0      1      1      0      3
32775  8007 1000000000000111 :  false                0 1000000000000000     16      0      1      0      3      4
32776  8008 1000000000001000 :  false                0 1000000000000000     16      0      1      3      0      2
32777  8009 1000000000001001 :  false                0 1000000000000000     16      0      1      0      1      3
32778  800A 1000000000001010 :  false                0 1000000000000000     16      0      1      1      0      3
32779  800B 1000000000001011 :  false                0 1000000000000000     16      0      1      0      2      4
32780  800C 1000000000001100 :  false                0 1000000000000000     16      0      1      2      0      3
32781  800D 1000000000001101 :  false                0 1000000000000000     16      0      1      0      1      4
32782  800E 1000000000001110 :  false                0 1000000000000000     16      0      1      1      0      4
32783  800F 1000000000001111 :  false                0 1000000000000000     16      0      1      0      4      5
32784  8010 1000000000010000 :  false                0 1000000000000000     16      0      1      4      0      2
32785  8011 1000000000010001 :  false                0 1000000000000000     16      0      1      0      1      3
32786  8012 1000000000010010 :  false                0 1000000000000000     16      0      1      1      0      3
32787  8013 1000000000010011 :  false                0 1000000000000000     16      0      1      0      2      4
32788  8014 1000000000010100 :  false                0 1000000000000000     16      0      1      2      0      3
32789  8015 1000000000010101 :  false                0 1000000000000000     16      0      1      0      1      4
32790  8016 1000000000010110 :  false                0 1000000000000000     16      0      1      1      0      4
32791  8017 1000000000010111 :  false                0 1000000000000000     16      0      1      0      3      5
32792  8018 1000000000011000 :  false                0 1000000000000000     16      0      1      3      0      3
32793  8019 1000000000011001 :  false                0 1000000000000000     16      0      1      0      1      4
32794  801A 1000000000011010 :  false                0 1000000000000000     16      0      1      1      0      4
32795  801B 1000000000011011 :  false                0 1000000000000000     16      0      1      0      2      5
32796  801C 1000000000011100 :  false                0 1000000000000000     16      0      1      2      0      4
32797  801D 1000000000011101 :  false                0 1000000000000000     16      0      1      0      1      5
32798  801E 1000000000011110 :  false                0 1000000000000000     16      0      1      1      0      5
32799  801F 1000000000011111 :  false                0 1000000000000000     16      0      1      0      5      6
32800  8020 1000000000100000 :  false                0 1000000000000000     16      0      1      5      0      2
65503  FFDF 1111111111011111 :  false                0 1000000000000000     16      0     10      0      5     15
65504  FFE0 1111111111100000 :  false                0 1000000000000000     16      0     11      5      0     11
65505  FFE1 1111111111100001 :  false                0 1000000000000000     16      0     11      0      1     12
65506  FFE2 1111111111100010 :  false                0 1000000000000000     16      0     11      1      0     12
65507  FFE3 1111111111100011 :  false                0 1000000000000000     16      0     11      0      2     13
65508  FFE4 1111111111100100 :  false                0 1000000000000000     16      0     11      2      0     12
65509  FFE5 1111111111100101 :  false                0 1000000000000000     16      0     11      0      1     13
65510  FFE6 1111111111100110 :  false                0 1000000000000000     16      0     11      1      0     13
65511  FFE7 1111111111100111 :  false                0 1000000000000000     16      0     11      0      3     14
65512  FFE8 1111111111101000 :  false                0 1000000000000000     16      0     11      3      0     12
65513  FFE9 1111111111101001 :  false                0 1000000000000000     16      0     11      0      1     13
65514  FFEA 1111111111101010 :  false                0 1000000000000000     16      0     11      1      0     13
65515  FFEB 1111111111101011 :  false                0 1000000000000000     16      0     11      0      2     14
65516  FFEC 1111111111101100 :  false                0 1000000000000000     16      0     11      2      0     13
65517  FFED 1111111111101101 :  false                0 1000000000000000     16      0     11      0      1     14
65518  FFEE 1111111111101110 :  false                0 1000000000000000     16      0     11      1      0     14
65519  FFEF 1111111111101111 :  false                0 1000000000000000     16      0     11      0      4     15
65520  FFF0 1111111111110000 :  false                0 1000000000000000     16      0     12      4      0     12
65521  FFF1 1111111111110001 :  false                0 1000000000000000     16      0     12      0      1     13
65522  FFF2 1111111111110010 :  false                0 1000000000000000     16      0     12      1      0     13
65523  FFF3 1111111111110011 :  false                0 1000000000000000     16      0     12      0      2     14
65524  FFF4 1111111111110100 :  false                0 1000000000000000     16      0     12      2      0     13
65525  FFF5 1111111111110101 :  false                0 1000000000000000     16      0     12      0      1     14
65526  FFF6 1111111111110110 :  false                0 1000000000000000     16      0     12      1      0     14
65527  FFF7 1111111111110111 :  false                0 1000000000000000     16      0     12      0      3     15
65528  FFF8 1111111111111000 :  false                0 1000000000000000     16      0     13      3      0     13
65529  FFF9 1111111111111001 :  false                0 1000000000000000     16      0     13      0      1     14
65530  FFFA 1111111111111010 :  false                0 1000000000000000     16      0     13      1      0     14
65531  FFFB 1111111111111011 :  false                0 1000000000000000     16      0     13      0      2     15
65532  FFFC 1111111111111100 :  false                0 1000000000000000     16      0     14      2      0     14
65533  FFFD 1111111111111101 :  false                0 1000000000000000     16      0     14      0      1     15
65534  FFFE 1111111111111110 :  false                0 1000000000000000     16      0     15      1      0     15
65535  FFFF 1111111111111111 :  false                0 1000000000000000     16      0     16      0     16     16

 */

/* 
 * 各フォーマットの値を文字列化する
 */
std::string CreateStr( uint16_t a )
{
    auto outputStr = std::format(
        // "{0:>016b} : {1:>6s} {2:>016b} {3:>016b} {4:>6d} {5:>6d} {6:>6d} {7:>6d} {8:>6d} {9:>6d}",
        "{0:>5d} {0:>5X} {0:>016b} : {1:>6s} {2:>016b} {3:>016b} {4:>6d} {5:>6d} {6:>6d} {7:>6d} {8:>6d} {9:>6d}",
        a,
        std::has_single_bit(a) ? "true" : "false",
        std::bit_ceil(a),
        std::bit_floor(a),
        std::bit_width(a),
        std::countl_zero(a),
        std::countl_one(a),
        std::countr_zero(a),
        std::countr_one(a),
        std::popcount(a)
        );
    return outputStr;
}

std::string CreateHeaderStr()
{
    auto outputStr = std::format(
        "{0:>5s} {0:>5s} {0:>16s} : {1:>6s} {2:>16s} {3:>16s} {4:>6s} {5:>6s} {6:>6s} {7:>6s} {8:>6s} {9:>6s}",
        "a",
        "single",
        "ceil",
        "floor",
        "width",
        "l_zero",
        "l_one",
        "r_zero",
        "r_one",
        "popcnt"
        );
    return outputStr;
}

/* 
 * main
 */
int main()
{
    std::vector< std::tuple<uint32_t,uint32_t> > params = {
        {0, 32},
        {256-16, 256+16},
        {0x7FFF-32, 0x8000+32},
        {0xFFFF-32, 0xFFFF},
    };
    
    // Header
    auto outputStr = CreateHeaderStr();
    puts( outputStr.c_str() );

    for (auto &&param_pair : params) {
        auto a = std::get<0>(param_pair);
        auto b = std::get<1>(param_pair);
        for (; a <= b; ++a) {
            outputStr = CreateStr(a);
            puts( outputStr.c_str() );
        }
    }

    return 0;
}

